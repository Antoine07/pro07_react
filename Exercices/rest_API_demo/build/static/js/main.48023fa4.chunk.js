(this["webpackJsonpapi-rest"]=this["webpackJsonpapi-rest"]||[]).push([[0],{13:function(e,t,n){e.exports=n(28)},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),u=n(1),s=n(3),i=n(12),l=n(2),m={authors:[],loading:!0,author:"",count:0},h=Object(u.c)({shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_AUTHORS":var n=t.payload,a=e.authors.concat(n);return Object(l.a)(Object(l.a)({},e),{},{authors:a,count:a.length});case"LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:t.loading});case"FETCH_AUTHOR":var r=t.payload;return Object(l.a)(Object(l.a)({},e),{},{author:r});default:return e}}}),d=(n(24),n(25),n(4)),p=n.n(d),f=n(9),v=function(e){var t=e.name,n=e.bio,a=e.books;e.shop_name;return r.a.createElement("div",{className:"Author"},r.a.createElement("h1",{style:{fontSize:"18px"}},"Nom de l'auteur : ",t),r.a.createElement("p",null,"Bio: ",n),a&&r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))},E=(n(27),function(){var e=Object(s.c)((function(e){return e.shop})),t=e.loading,n=e.authors,o=e.author,c=e.count,u=Object(s.b)();Object(a.useEffect)((function(){return u(function(){var e={method:"GET",headers:new Headers,mode:"cors",cache:"default"};return function(t){(function(){var n=Object(f.a)(p.a.mark((function n(){var a,r,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"LOADING",loading:!0}),n.next=3,new Promise((function(e){setTimeout((function(){e(!1)}),1e3)}));case 3:return a=n.sent,n.next=6,fetch("".concat("http://localhost:3000","/authors"),e);case 6:return r=n.sent,n.next=9,r.json();case 9:o=n.sent,t({type:"FETCH_AUTHORS",payload:o}),t({type:"LOADING",loading:a});case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}}()),function(){}}),[]);var i=function(e){u(function(e){new Headers;return function(t){(function(){var e=Object(f.a)(p.a.mark((function e(n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3000","/author/").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,t({type:"FETCH_AUTHOR",payload:JSON.parse(r.author)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)}}(e))};return console.log(o),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,"Nombre d'auteurs : ",c),r.a.createElement("div",{className:"col-md-8"},t&&r.a.createElement("p",null,"Loading ..."),n&&n.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("h2",null,e.name," "),r.a.createElement("button",{className:"btn btn-warning",onClick:function(){return i(e._id)}},"D\xe9tails"))}))),r.a.createElement("div",{className:"col-md-4"},o&&r.a.createElement(v,o))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=Object(u.d)(h,Object(u.a)(i.a));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:b},r.a.createElement(E,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.48023fa4.chunk.js.map